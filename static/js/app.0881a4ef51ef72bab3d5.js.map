{"version":3,"sources":["webpack:///./src/App.vue?456c","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/Xterm.js","webpack:///src/components/Console.vue","webpack:///./src/components/Console.vue?35a7","webpack:///src/components/WebSSH.vue","webpack:///./src/components/Console.vue","webpack:///./src/components/WebSSH.vue?5923","webpack:///./src/components/WebSSH.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","Terminal","applyAddon","fullscreen","fit","attach","Console","props","terminal","type","Object","default","data","term","terminalSocket","methods","runRealTerminal","console","log","closeRealTerminal","mounted","pid","terminalContainer","document","getElementById","Xterm","rows","fontSize","cursorBlink","cursorStyle","_initialized","attachCustomKeyEventHandler","ev","keyCode","ctrlKey","send","TextEncoder","encode","copy","open","scrollToBottom","WebSocket","window","location","host","onopen","onclose","onerror","evt","websocket","bidirectional","bufferedTime","socket","messageBuffer","handleWebSocketMessage","setTimeout","write","handleTerminalData","stringify_default","cmd","base64","onmessage","on","heartBeatTimer","setInterval","addEventListener","removeEventListener","off","clearInterval","Console_bindTerminal","beforeDestroy","close","disposal","components_Console","staticClass","WebSSH","components","my-terminal","Console_normalizeComponent","components_WebSSH","src_components_WebSSH","WebSSH_normalizeComponent","Vue","use","Router","router","routes","path","component","config","productionTip","el","App","template"],"mappings":"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","file":"static/js/app.0881a4ef51ef72bab3d5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-855ea05a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-855ea05a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-855ea05a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import { Terminal } from 'xterm'\nimport 'xterm/dist/xterm.css'\nimport * as fit from 'xterm/lib/addons/fit/fit'\nimport * as attach from 'xterm/lib/addons/attach/attach'\nimport 'xterm/lib/addons/fullscreen/fullscreen.css'\nimport * as fullscreen from 'xterm/lib/addons/fullscreen/fullscreen'\n\nTerminal.applyAddon(fullscreen)\nTerminal.applyAddon(fit)\nTerminal.applyAddon(attach)\n\nexport default Terminal\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Xterm.js","<template>\n    <div class=\"console\" id=\"terminal\"></div>\n</template>\n<script>\nimport Terminal from './Xterm.js'\nimport {Base64} from 'js-base64'\n\nlet bindTerminal = (term, websocket, bidirectional, bufferedTime) => {\n  term.socket = websocket\n  let messageBuffer = null\n  let handleWebSocketMessage = function (ev) {\n    if (bufferedTime && bufferedTime > 0) {\n      if (messageBuffer) {\n        messageBuffer += ev.data\n      } else {\n        messageBuffer = ev.data\n        setTimeout(function () {\n          term.write(messageBuffer)\n        }, bufferedTime)\n      }\n    } else {\n      term.write(ev.data)\n    }\n  }\n\n  let handleTerminalData = function (data) {\n    websocket.send(\n      JSON.stringify({\n        type: 'cmd',\n        cmd: Base64.encode(data) // encode data as base64 format\n      })\n    )\n  }\n\n  websocket.onmessage = handleWebSocketMessage\n  if (bidirectional) {\n    term.on('data', handleTerminalData)\n  }\n\n  // send heartbeat package to avoid closing webSocket connection in some proxy environmental such as nginx.\n  let heartBeatTimer = setInterval(function () {\n    websocket.send(JSON.stringify({ type: 'heartbeat', data: '' }))\n  }, 20 * 1000)\n\n  websocket.addEventListener('close', function () {\n    websocket.removeEventListener('message', handleWebSocketMessage)\n    term.off('data', handleTerminalData)\n    delete term.socket\n    clearInterval(heartBeatTimer)\n  })\n}\n\nexport default {\n  name: 'Console',\n  props: {\n    terminal: {\n      type: Object,\n      default: function () {\n        return []\n      }\n    }\n  },\n  data () {\n    return {\n      term: null,\n      terminalSocket: null\n    }\n  },\n  methods: {\n    runRealTerminal () {\n      console.log('webSocket is finished')\n    },\n    closeRealTerminal () {\n      console.log('close')\n    }\n  },\n  mounted () {\n    console.log('pid : ' + this.terminal.pid + ' is on ready')\n    let terminalContainer = document.getElementById('terminal')\n    this.term = new Terminal({\n      rows: 70,\n      // cowsï¼š 150,\n      fontSize: 16,\n      cursorBlink: true,\n      cursorStyle: 'bar'\n    })\n    // Terminal Configurations\n    this.term._initialized = true\n    this.term.attachCustomKeyEventHandler(function (ev) {\n      if (ev.keyCode === 86 && ev.ctrlKey) {\n        this.terminalSocket.send(new TextEncoder().encode('\\x00' + this.copy))\n      }\n    })\n    this.term.open(terminalContainer)\n    this.term.fit()\n    // this.term.toggleFullScreen()\n    this.term.scrollToBottom()\n    // open websocket\n    this.terminalSocket = new WebSocket('ws://' + window.location.host + '/ssh/ws')\n    this.terminalSocket.onopen = this.runRealTerminal\n    this.terminalSocket.onclose = this.closeRealTerminal\n    this.terminalSocket.onerror = function (evt) {\n      console.log('error', evt)\n    }\n    bindTerminal(this.term, this.terminalSocket, true, -1)\n    console.log('mounted is going on')\n  },\n  beforeDestroy () {\n    this.terminalSocket.close()\n    this.term.disposal()\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Console.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"console\",attrs:{\"id\":\"terminal\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14e1fa08\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Console.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"container\">\n    <my-terminal :terminal=\"terminal\"></my-terminal>\n  </div>\n</template>\n\n<script>\nimport Console from './Console'\n\nexport default {\n  name: 'WebSSH',\n  data () {\n    return {\n      terminal: {\n        pid: 1,\n        name: 'terminal'\n      }\n    }\n  },\n  components: {\n    'my-terminal': Console\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/WebSSH.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Console.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Console.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14e1fa08\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Console.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Console.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('my-terminal',{attrs:{\"terminal\":_vm.terminal}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a6995eb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/WebSSH.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a6995eb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./WebSSH.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./WebSSH.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./WebSSH.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a6995eb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./WebSSH.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5a6995eb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/WebSSH.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport WebSSH from '@/components/WebSSH'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'WebSSH',\n      component: WebSSH\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}