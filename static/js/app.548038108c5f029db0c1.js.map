{"version":3,"sources":["webpack:///./src/App.vue?456c","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/Xterm.js","webpack:///src/components/Console.vue","webpack:///./src/components/Console.vue?cf75","webpack:///src/components/WebSSH.vue","webpack:///./src/components/Console.vue","webpack:///./src/components/WebSSH.vue?8bea","webpack:///./src/components/WebSSH.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","Terminal","applyAddon","fit","attach","Console","props","terminal","type","Object","default","data","term","terminalSocket","methods","runRealTerminal","console","log","closeRealTerminal","mounted","pid","terminalContainer","document","getElementById","Xterm","open","WebSocket","onopen","onclose","onerror","evt","websocket","bidirectional","bufferedTime","socket","messageBuffer","handleWebSocketMessage","ev","setTimeout","write","handleTerminalData","send","stringify_default","cmd","base64","encode","onmessage","on","heartBeatTimer","setInterval","addEventListener","removeEventListener","off","clearInterval","Console_bindTerminal","_initialized","hasSelection","copy","getSelection","attachCustomKeyEventHandler","keyCode","ctrlKey","TextEncoder","beforeDestroy","close","destroy","components_Console","staticClass","WebSSH","cols","rows","components","my-terminal","Console_normalizeComponent","components_WebSSH","src_components_WebSSH","WebSSH_normalizeComponent","Vue","use","Router","router","routes","path","component","config","productionTip","el","App","template"],"mappings":"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","file":"static/js/app.548038108c5f029db0c1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-855ea05a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-855ea05a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-855ea05a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import { Terminal } from 'xterm'\nimport * as fit from 'xterm/lib/addons/fit/fit'\nimport * as attach from 'xterm/lib/addons/attach/attach'\nimport 'xterm/lib/addons/fullscreen/fullscreen.css'\nimport 'xterm/dist/xterm.css'\nTerminal.applyAddon(fit)\nTerminal.applyAddon(attach)\n\nexport default Terminal\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Xterm.js","<template>\n    <div class=\"console\" id=\"terminal\"></div>\n</template>\n<script>\nimport Terminal from './Xterm.js'\nimport {Base64} from 'js-base64'\n\nlet bindTerminal = (term, websocket, bidirectional, bufferedTime) => {\n  term.socket = websocket\n  let messageBuffer = null\n  let handleWebSocketMessage = function (ev) {\n    if (bufferedTime && bufferedTime > 0) {\n      if (messageBuffer) {\n        messageBuffer += ev.data\n      } else {\n        messageBuffer = ev.data\n        setTimeout(function () {\n          term.write(messageBuffer)\n        }, bufferedTime)\n      }\n    } else {\n      term.write(ev.data)\n    }\n  }\n\n  let handleTerminalData = function (data) {\n    websocket.send(\n      JSON.stringify({\n        type: 'cmd',\n        cmd: Base64.encode(data) // encode data as base64 format\n      })\n    )\n  }\n\n  websocket.onmessage = handleWebSocketMessage\n  if (bidirectional) {\n    term.on('data', handleTerminalData)\n  }\n\n  // send heartbeat package to avoid closing webSocket connection in some proxy environmental such as nginx.\n  let heartBeatTimer = setInterval(function () {\n    websocket.send(JSON.stringify({ type: 'heartbeat', data: '' }))\n  }, 20 * 1000)\n\n  websocket.addEventListener('close', function () {\n    websocket.removeEventListener('message', handleWebSocketMessage)\n    term.off('data', handleTerminalData)\n    delete term.socket\n    clearInterval(heartBeatTimer)\n  })\n}\n\nexport default {\n  name: 'Console',\n  props: {\n    terminal: {\n      type: Object,\n      default: function () {\n        return []\n      }\n    }\n  },\n  data () {\n    return {\n      term: null,\n      terminalSocket: null\n    }\n  },\n  methods: {\n    runRealTerminal () {\n      console.log('webSocket is finished')\n    },\n    closeRealTerminal () {\n      console.log('close')\n    }\n  },\n  mounted () {\n    console.log('pid : ' + this.terminal.pid + ' is on ready')\n    let terminalContainer = document.getElementById('terminal')\n    this.term = new Terminal()\n    this.term.open(terminalContainer)\n    this.term.fit()\n    // open websocket\n    this.terminalSocket = new WebSocket('ws://16.186.79.97:8099/ssh/ws')\n    this.terminalSocket.onopen = this.runRealTerminal\n    this.terminalSocket.onclose = this.closeRealTerminal\n    this.terminalSocket.onerror = function (evt) {\n      console.log('error', evt)\n    }\n    bindTerminal(this.term, this.terminalSocket, true, -1)\n    // Terminal Configurations\n    this.term._initialized = true\n    this.term.on('selection', function () {\n      if (this.term.hasSelection()) {\n        this.copy = this.term.getSelection()\n        console.log('I got you')\n      } else {\n        console.log('where are you?')\n      }\n    })\n    this.term.attachCustomKeyEventHandler(function (ev) {\n      // 粘贴 ctrl+v\n      if (ev.keyCode === 86 && ev.ctrlKey) {\n        this.terminalSocket.send(new TextEncoder().encode('\\x00' + this.copy))\n      }\n    })\n    console.log('mounted is going on')\n  },\n  beforeDestroy () {\n    this.terminalSocket.close()\n    this.term.destroy()\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Console.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"console\",attrs:{\"id\":\"terminal\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-489a610e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Console.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"container\">\n    <my-terminal :terminal=\"terminal\"></my-terminal>\n  </div>\n</template>\n\n<script>\nimport Console from './Console'\n\nexport default {\n  name: 'WebSSH',\n  data () {\n    return {\n      terminal: {\n        pid: 1,\n        name: 'terminal',\n        cols: 400,\n        rows: 400\n      }\n    }\n  },\n  components: {\n    'my-terminal': Console\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/WebSSH.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Console.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Console.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-489a610e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Console.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Console.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('my-terminal',{attrs:{\"terminal\":_vm.terminal}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a901d936\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/WebSSH.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a901d936\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./WebSSH.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./WebSSH.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./WebSSH.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a901d936\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./WebSSH.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a901d936\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/WebSSH.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport WebSSH from '@/components/WebSSH'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'WebSSH',\n      component: WebSSH\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}