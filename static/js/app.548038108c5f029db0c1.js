webpackJsonp([1],{"4NBF":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},i,!1,function(e){n("Ospb")},null,null).exports,a=n("/ocq"),s=n("mvHQ"),l=n.n(s),c=n("13sD"),m=n("6x4x"),u=n("AaoT");n("4NBF"),n("fIPj");c.Terminal.applyAddon(m),c.Terminal.applyAddon(u);var d=c.Terminal,p=n("xrTZ"),f={name:"Console",props:{terminal:{type:Object,default:function(){return[]}}},data:function(){return{term:null,terminalSocket:null}},methods:{runRealTerminal:function(){console.log("webSocket is finished")},closeRealTerminal:function(){console.log("close")}},mounted:function(){console.log("pid : "+this.terminal.pid+" is on ready");var e=document.getElementById("terminal");this.term=new d,this.term.open(e),this.term.fit(),this.terminalSocket=new WebSocket("ws://"+ window.location.host + "/ssh/ws"),this.terminalSocket.onopen=this.runRealTerminal,this.terminalSocket.onclose=this.closeRealTerminal,this.terminalSocket.onerror=function(e){console.log("error",e)},function(e,t,n,o){e.socket=t;var i=null,r=function(t){o&&o>0?i?i+=t.data:(i=t.data,setTimeout(function(){e.write(i)},o)):e.write(t.data)},a=function(e){t.send(l()({type:"cmd",cmd:p.Base64.encode(e)}))};t.onmessage=r,n&&e.on("data",a);var s=setInterval(function(){t.send(l()({type:"heartbeat",data:""}))},2e4);t.addEventListener("close",function(){t.removeEventListener("message",r),e.off("data",a),delete e.socket,clearInterval(s)})}(this.term,this.terminalSocket,!0,-1),this.term._initialized=!0,this.term.on("selection",function(){this.term.hasSelection()?(this.copy=this.term.getSelection(),console.log("I got you")):console.log("where are you?")}),this.term.attachCustomKeyEventHandler(function(e){86===e.keyCode&&e.ctrlKey&&this.terminalSocket.send((new TextEncoder).encode("\0"+this.copy))}),console.log("mounted is going on")},beforeDestroy:function(){this.terminalSocket.close(),this.term.destroy()}},h={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"console",attrs:{id:"terminal"}})},staticRenderFns:[]},v={name:"WebSSH",data:function(){return{terminal:{pid:1,name:"terminal",cols:400,rows:400}}},components:{"my-terminal":n("VU/8")(f,h,!1,null,null,null).exports}},y={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("my-terminal",{attrs:{terminal:this.terminal}})],1)},staticRenderFns:[]};var g=n("VU/8")(v,y,!1,function(e){n("huxg")},"data-v-a901d936",null).exports;o.a.use(a.a);var S=new a.a({routes:[{path:"/",name:"WebSSH",component:g}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:S,components:{App:r},template:"<App/>"})},Ospb:function(e,t){},fIPj:function(e,t){},huxg:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.548038108c5f029db0c1.js.map
